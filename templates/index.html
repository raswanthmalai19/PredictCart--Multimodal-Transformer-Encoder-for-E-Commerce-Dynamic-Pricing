<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Commerce Price Predictor - AI-Powered Pricing</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">
                    <span class="logo-icon">üõí</span>
                    Price Predictor AI
                </h1>
                <p class="tagline">Predict product prices with advanced machine learning</p>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="content-grid">
                <!-- Input Form -->
                <div class="card input-card">
                    <h2 class="card-title">Product Details</h2>
                    <p class="card-description">Enter product information to get an AI-powered price prediction</p>
                    
                    <form id="predictionForm" class="prediction-form">
                        <!-- Product Name -->
                        <div class="form-group">
                            <label for="productName" class="form-label">
                                Product Name
                                <span class="required">*</span>
                            </label>
                            <input 
                                type="text" 
                                id="productName" 
                                name="product_name"
                                class="form-input"
                                placeholder="e.g., Samsung Galaxy S21 5G Smartphone"
                                required
                            >
                            <small class="form-help">Enter a detailed product name or description</small>
                        </div>

                        <!-- Category -->
                        <div class="form-group">
                            <label for="category" class="form-label">
                                Category
                                <span class="required">*</span>
                            </label>
                            <select id="category" name="category" class="form-select" required>
                                <option value="">Select a category</option>
                                {% for cat in categories %}
                                <option value="{{ cat }}">{{ cat.title() }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <!-- Ratings -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="ratings" class="form-label">
                                    Product Rating
                                </label>
                                <div class="input-with-addon">
                                    <input 
                                        type="number" 
                                        id="ratings" 
                                        name="ratings"
                                        class="form-input"
                                        min="0"
                                        max="5"
                                        step="0.1"
                                        value="4.0"
                                    >
                                    <span class="input-addon">
                                        <span id="ratingStars">‚≠ê‚≠ê‚≠ê‚≠ê</span>
                                    </span>
                                </div>
                                <small class="form-help">0 to 5 stars</small>
                            </div>

                            <div class="form-group">
                                <label for="noOfRatings" class="form-label">
                                    Number of Reviews
                                </label>
                                <input 
                                    type="number" 
                                    id="noOfRatings" 
                                    name="no_of_ratings"
                                    class="form-input"
                                    min="0"
                                    value="100"
                                >
                                <small class="form-help">Total review count</small>
                            </div>
                        </div>

                        <!-- Discount Ratio -->
                        <div class="form-group">
                            <label for="discountRatio" class="form-label">
                                Discount Percentage
                            </label>
                            <div class="slider-container">
                                <input 
                                    type="range" 
                                    id="discountRatio" 
                                    name="discount_ratio"
                                    class="form-slider"
                                    min="0"
                                    max="100"
                                    value="0"
                                >
                                <span id="discountValue" class="slider-value">0%</span>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" class="btn btn-primary" id="submitBtn">
                            <span class="btn-icon">üîÆ</span>
                            Predict Price
                        </button>
                    </form>
                </div>

                <!-- Results Section -->
                <div class="card results-card" id="resultsCard">
                    <div id="loadingState" class="loading-state hidden">
                        <div class="spinner"></div>
                        <p>Analyzing product data...</p>
                    </div>

                    <div id="resultsContent" class="results-content hidden">
                        <h2 class="card-title">Price Prediction</h2>
                        
                        <div class="prediction-result">
                            <div class="price-display">
                                <span class="price-label">Estimated Price</span>
                                <span class="price-value" id="predictedPrice">‚Çπ0.00</span>
                            </div>

                            <div class="confidence-meter">
                                <div class="confidence-label">
                                    <span>Confidence Level</span>
                                    <span id="confidenceValue">0%</span>
                                </div>
                                <div class="confidence-bar">
                                    <div class="confidence-fill" id="confidenceFill"></div>
                                </div>
                            </div>

                            <div class="price-range">
                                <h3 class="range-title">Expected Price Range</h3>
                                <div class="range-values">
                                    <div class="range-item">
                                        <span class="range-label">Lower Bound</span>
                                        <span class="range-value" id="priceLower">‚Çπ0.00</span>
                                    </div>
                                    <div class="range-separator">‚Äî</div>
                                    <div class="range-item">
                                        <span class="range-label">Upper Bound</span>
                                        <span class="range-value" id="priceUpper">‚Çπ0.00</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="prediction-details">
                            <h3 class="details-title">Input Summary</h3>
                            <div class="details-grid">
                                <div class="detail-item">
                                    <span class="detail-label">Product</span>
                                    <span class="detail-value" id="detailProduct">‚Äî</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Category</span>
                                    <span class="detail-value" id="detailCategory">‚Äî</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Rating</span>
                                    <span class="detail-value" id="detailRating">‚Äî</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Reviews</span>
                                    <span class="detail-value" id="detailReviews">‚Äî</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="errorState" class="error-state hidden">
                        <div class="error-icon">‚ö†Ô∏è</div>
                        <h3>Prediction Failed</h3>
                        <p id="errorMessage">An error occurred. Please try again.</p>
                        <button class="btn btn-secondary" onclick="resetResults()">Try Again</button>
                    </div>

                    <div id="placeholderState" class="placeholder-state">
                        <div class="placeholder-icon">üìä</div>
                        <h3>Ready to Predict</h3>
                        <p>Fill in the product details and click "Predict Price" to see AI-powered price predictions.</p>
                        
                        <div class="features-list">
                            <div class="feature-item">
                                <span class="feature-icon">ü§ñ</span>
                                <span>Advanced AI Model</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">‚ö°</span>
                                <span>Instant Predictions</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">üéØ</span>
                                <span>High Accuracy</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 E-Commerce Price Predictor. Powered by PyTorch & Transformers.</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
